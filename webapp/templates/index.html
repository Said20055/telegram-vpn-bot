{% extends "base.html" %}

{% block content %}
<!-- Hero Section (–û—Å—Ç–∞–≤–ª—è–µ–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) -->
<section class="py-5 text-center container">
    <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-bold display-4 mb-3">–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç</h1>
            <p class="lead text-gray mb-4">–ë—ã—Å—Ç—Ä—ã–π, –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è VLESS-Reality.</p>
            {% if not user %}
                <a href="/register" class="btn btn-orange btn-lg px-5">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ</a>
            {% else %}
                <a href="/profile/" class="btn btn-orange btn-lg px-5">–í –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
            {% endif %}
        </div>
    </div>
</section>

<!-- Tariffs Section (–î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø) -->
<section class="container mb-5">
    <h2 class="text-center mb-5 fw-bold">–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –ø–ª–∞–Ω</h2>
    
    {% if tariffs %}
    <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-center">
        
        {% for tariff in tariffs %}
            <!-- –õ–æ–≥–∏–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞ (–¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã) -->
            <!-- –ï—Å–ª–∏ —Ç–∞—Ä–∏—Ñ–æ–≤ 3, —Ç–æ –≤—Ç–æ—Ä–æ–π (–∏–Ω–¥–µ–∫—Å 2) –±—É–¥–µ—Ç –≤—ã–¥–µ–ª–µ–Ω -->
            {% set is_hit = (tariffs|length >= 3 and loop.index == 2) %}

            <div class="col">
                <div class="card tariff-card h-100 p-3 {% if is_hit %}border-orange{% endif %}" 
                     {% if is_hit %}style="border: 1px solid var(--primary-color); transform: scale(1.02);"{% endif %}>
                    
                    {% if is_hit %}
                        <span class="tariff-badge">–•–ò–¢ üî•</span>
                    {% endif %}

                    <div class="card-body text-center d-flex flex-column">
                        <!-- –ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "1 –ú–µ—Å—è—Ü") -->
                        <h4 class="card-title fw-bold">{{ tariff.name }}</h4>
                        
                        <!-- –¶–µ–Ω–∞ -->
                        <div class="tariff-price my-3">{{ tariff.price | int }} ‚ÇΩ</div>
                        
                        <!-- –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ -->
                        <ul class="list-unstyled text-start mx-auto mb-4 text-gray small">
                            <li><i class="fas fa-clock text-success me-2"></i> –°—Ä–æ–∫: {{ tariff.duration_days }} –¥–Ω–µ–π</li>
                            <li><i class="fas fa-tachometer-alt text-success me-2"></i> –°–∫–æ—Ä–æ—Å—Ç—å –±–µ–∑–ª–∏–º–∏—Ç</li>
                            <li><i class="fas fa-check text-success me-2"></i> 5 —É—Å—Ç—Ä–æ–π—Å—Ç–≤</li>
                        </ul>
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ —Å –≤—ã–∑–æ–≤–æ–º JS —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø–ª–∞—Ç—ã -->
                        <!-- –ü–µ—Ä–µ–¥–∞–µ–º ID, –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –¶–µ–Ω—É –≤ —Ñ—É–Ω–∫—Ü–∏—é -->
                        <button onclick="initPayment('{{ tariff.name }}', '{{ tariff.price | int }}')" 
                                class="btn {% if is_hit %}btn-orange{% else %}btn-outline-light{% endif %} mt-auto w-100">
                            –ö—É–ø–∏—Ç—å
                        </button>
                    </div>
                </div>
            </div>
        {% endfor %}

    </div>
    {% else %}
        <div class="text-center py-5">
            <h4 class="text-muted">–¢–∞—Ä–∏—Ñ—ã –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã üòî</h4>
        </div>
    {% endif %}

</section>
{% endblock %}